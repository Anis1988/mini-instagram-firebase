{"map":{"version":3,"sources":["static/js/main.a3f396bc.chunk.js"],"names":["this","push","45","module","exports","__webpack_require__","50","51","52","67","70","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","index_cjs","index_cjs_default","db","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post_Post","_ref","user","postId","imageUrl","username","caption","_useState","Object","_useState2","comments","setComments","_useState3","_useState4","comment","setComment","unsbscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","createElement","className","alt","src","text","type","placeholder","value","onChange","e","target","disabled","onClick","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","Modal","makeStyles","Input","Button","ImageUpload","image","setImage","progress","setProgress","_useState5","_useState6","setCaption","max","event","files","ref","concat","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","es","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","src_App","classes","modalStyle","posts","setPosts","open","setOpen","_useState7","_useState8","setUsername","_useState9","_useState10","email","setEmail","_useState11","_useState12","password","setPassword","_useState13","_useState14","setUser","_useState15","_useState16","openSigniIn","setOpenSigniIn","unsubscribe","onAuthStateChanged","authUser","id","post","onClose","style","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","err","signOut","key","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpinstagram-clone\"]=this[\"webpackJsonpinstagram-clone\"]||[]).push([[0],{45:function(e,t,a){e.exports=a(70)},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},67:function(e,t,a){},70:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),o=a(13),r=a.n(o),l=(a(50),a(10)),s=(a(51),a(52),a(97)),i=a(18),m=a.n(i),u=m.a.initializeApp({apiKey:\"AIzaSyAmAiFUUlhaa1bgDWZPDq2Fkt0ssuBrWJo\",authDomain:\"instagram-clone-339a7.firebaseapp.com\",databaseURL:\"https://instagram-clone-339a7.firebaseio.com\",projectId:\"instagram-clone-339a7\",storageBucket:\"instagram-clone-339a7.appspot.com\",messagingSenderId:\"894697476973\",appId:\"1:894697476973:web:9ffc03a34596f506dd8064\",measurementId:\"G-Q0RKN5ZP86\"}).firestore(),p=m.a.auth(),d=m.a.storage();function g(e){var t=e.user,a=e.postId,o=e.imageUrl,r=e.username,i=e.caption,p=Object(n.useState)([]),d=Object(l.a)(p,2),g=d[0],f=d[1],h=Object(n.useState)(\"\"),E=Object(l.a)(h,2),v=E[0],b=E[1];Object(n.useEffect)((function(){var e;return a&&(e=u.collection(\"posts\").doc(a).collection(\"comments\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){f(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[a]);return c.a.createElement(\"div\",{className:\"post\"},c.a.createElement(\"div\",{className:\"post__header\"},c.a.createElement(s.a,{className:\"post__avatar\",alt:\"Anis\",src:\"\"}),c.a.createElement(\"h3\",null,r)),c.a.createElement(\"img\",{className:\"post__image\",src:o,alt:\"\"}),c.a.createElement(\"h4\",{className:\"post__text\"},c.a.createElement(\"strong\",null,r),\" \",i),c.a.createElement(\"div\",{className:\"post__comments\"},g.map((function(e){return c.a.createElement(\"p\",null,c.a.createElement(\"strong\",null,e.username),\" \",e.text)}))),t&&c.a.createElement(\"form\",{className:\"post__commentBox\"},c.a.createElement(\"input\",{type:\"text\",className:\"post__input\",placeholder:\"Add a comment\",value:v,onChange:function(e){return b(e.target.value)}}),c.a.createElement(\"button\",{className:\"post__button\",disabled:!v,type:\"submit\",onClick:function(e){e.preventDefault(),u.collection(\"posts\").doc(a).collection(\"comments\").add({text:v,username:t.displayName,timestamp:m.a.firestore.FieldValue.serverTimestamp()}),b(\"\")}},\"Post\")))}var f=a(94),h=a(93),E=a(96),v=a(95);a(67);function b(e){var t=e.username,a=Object(n.useState)(null),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(n.useState)(0),p=Object(l.a)(i,2),g=p[0],f=p[1],h=Object(n.useState)(\"\"),E=Object(l.a)(h,2),b=E[0],_=E[1];return c.a.createElement(\"div\",{className:\"imageUpload\"},c.a.createElement(\"progress\",{className:\"imageUpload__progress\",value:g,max:\"100\"}),c.a.createElement(\"input\",{className:\"input-caption\",type:\"text\",placeholder:\"Enter a caption\",value:b,onChange:function(e){return _(e.target.value)}}),c.a.createElement(\"input\",{className:\"upload-btn\",type:\"file\",onChange:function(e){e.target.files[0]&&s(e.target.files[0])}}),c.a.createElement(v.a,{onClick:function(){d.ref(\"images/\".concat(r.name)).put(r).on(\"state_changed\",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);f(t)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref(\"images\").child(r.name).getDownloadURL().then((function(e){u.collection(\"posts\").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:b,imageUrl:e,username:t}),f(0),_(\"\"),s(null)}))}))}},\"Upload\"))}var _=a(40);function j(){return{top:\"\".concat(50,\"%\"),left:\"\".concat(50,\"%\"),transform:\"translate(-\".concat(50,\"%, -\").concat(50,\"%)\")}}var O=Object(h.a)((function(e){return{paper:{position:\"absolute\",width:400,backgroundColor:e.palette.background.paper,border:\"2px solid #000\",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var N=function(){var e=O(),t=Object(n.useState)(j),a=Object(l.a)(t,1)[0],o=Object(n.useState)([]),r=Object(l.a)(o,2),s=r[0],i=r[1],m=Object(n.useState)(!1),d=Object(l.a)(m,2),h=d[0],N=d[1],y=Object(n.useState)(\"\"),S=Object(l.a)(y,2),C=S[0],w=S[1],x=Object(n.useState)(\"\"),I=Object(l.a)(x,2),k=I[0],U=I[1],A=Object(n.useState)(\"\"),J=Object(l.a)(A,2),L=J[0],P=J[1],D=Object(n.useState)(null),Q=Object(l.a)(D,2),W=Q[0],Z=Q[1],B=Object(n.useState)(!1),F=Object(l.a)(B,2),R=F[0],q=F[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){e?(Z(e),console.log(e)):Z(null)}));return function(){e()}}),[W,C]),Object(n.useEffect)((function(){u.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement(\"div\",{className:\"app\"},c.a.createElement(f.a,{open:h,onClose:function(){return N(!1)}},c.a.createElement(\"div\",{style:a,className:e.paper},c.a.createElement(\"center\",null,c.a.createElement(\"form\",{className:\"app__signup\"},c.a.createElement(\"img\",{src:\"https://lh3.googleusercontent.com/LZdsQGEbRqcZIjvWdiJTjlaGQJQjP097FAIvl4XfOi_XHagmC83Lc04PDxaq8Ml6xJk\",alt:\"\",className:\"app__headerImage\"}),c.a.createElement(E.a,{placeholder:\"username\",type:\"text\",value:C,onChange:function(e){return w(e.target.value)}}),c.a.createElement(E.a,{placeholder:\"email\",type:\"text\",value:k,onChange:function(e){return U(e.target.value)}}),c.a.createElement(E.a,{placeholder:\"password\",type:\"password\",value:L,onChange:function(e){return P(e.target.value)}}),c.a.createElement(v.a,{type:\"submit\",onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(k,L).then((function(e){return e.user.updateProfile({displayName:C})})).catch((function(e){return alert(e.message)})),N(!1)}},\"Sign Up\"))))),c.a.createElement(f.a,{open:R,onClose:function(){return q(!1)}},c.a.createElement(\"div\",{style:a,className:e.paper},c.a.createElement(\"center\",null,c.a.createElement(\"form\",{className:\"app__signup\"},c.a.createElement(\"img\",{src:\"https://lh3.googleusercontent.com/LZdsQGEbRqcZIjvWdiJTjlaGQJQjP097FAIvl4XfOi_XHagmC83Lc04PDxaq8Ml6xJk\",alt:\"\",className:\"app__headerImage\"}),c.a.createElement(E.a,{placeholder:\"email\",type:\"text\",value:k,onChange:function(e){return U(e.target.value)}}),c.a.createElement(E.a,{placeholder:\"password\",type:\"password\",value:L,onChange:function(e){return P(e.target.value)}}),c.a.createElement(v.a,{type:\"submit\",onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(k,L).catch((function(e){return alert(e.message)})),q(!1)}},\"Sign In\"))))),c.a.createElement(\"div\",{className:\"app__header\"},c.a.createElement(\"img\",{src:\"https://lh3.googleusercontent.com/LZdsQGEbRqcZIjvWdiJTjlaGQJQjP097FAIvl4XfOi_XHagmC83Lc04PDxaq8Ml6xJk\",alt:\"\",className:\"app__headerImage\"}),W?c.a.createElement(v.a,{onClick:function(){return p.signOut()}},\"Log Out\"):c.a.createElement(\"div\",{className:\"login__Container\"},c.a.createElement(v.a,{onClick:function(){return q(!0)}},\"Sign In\"),c.a.createElement(v.a,{onClick:function(){return N(!0)}},\"Sign Up\"))),c.a.createElement(\"div\",{className:\"app__posts\"},c.a.createElement(\"div\",{className:\"app__postsLeft\"},s.map((function(e){var t=e.id,a=e.post;return c.a.createElement(g,{key:t,postId:t,username:a.username,caption:a.caption,imageUrl:a.imageUrl})}))),c.a.createElement(\"div\",{className:\"app__postsRight\"},c.a.createElement(_.a,{url:\"https://instagr.am/p/Zw9o4/\",maxWidth:320,hideCaption:!1,containerTagName:\"div\",protocol:\"\",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}}))),(null===W||void 0===W?void 0:W.displayName)?c.a.createElement(b,{username:W.displayName}):c.a.createElement(\"h3\",null,\"Sorry, you need to Login to Upload\"))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);","extractedComments":[]}